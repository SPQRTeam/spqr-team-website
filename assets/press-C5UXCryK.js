import{_ as N,av as P,r as _,f as b,T as A,I as p,L as i,E as e,C as y,W as C,k as v,D as l,V as R,H as c,au as Y,G as f,M as V,K as h,J as k,l as H}from"./index-DX8rOCsz.js";import{V as S}from"./VContainer-KdvpeOi0.js";import{V as M,a as z}from"./VRow-CGj7CPRU.js";import{V as F,a as G}from"./VCard-d7Y9dCO6.js";const J="/spqr-team-website/assets/press/cover.png",K={class:"cover-section"},O={class:"video-player-container"},U={class:"video-main"},W=["src"],Q={class:"video-info"},X={class:"video-info-header"},Z={class:"video-title"},ee={class:"video-date"},se={class:"video-list-sidebar"},te={class:"video-list-scroll"},oe=["onClick"],ae={class:"video-list-item-content"},re={class:"video-list-source"},ne={class:"video-list-date"},le={class:"video-list-event"},ie={style:{"margin-top":"4rem","margin-bottom":"4rem"}},ce={class:"year-title"},de={class:"press-card-layout"},ue={class:"press-preview"},ve=["src","alt"],pe={class:"press-date"},me={class:"press-source"},_e={__name:"press",setup(fe){const T=P(),d=_([]),m=_(null),o=_(null),j=async()=>{try{const a=(await(await fetch("/spqr-team-website/assets/press/tv.json")).json()).map(r=>({date:r.date,event:r.event,source:r.source,name:r.name,minute:r.minute||0,second:r.second||0,path:`/spqr-team-website/assets/press/${r.name}.mp4`}));d.value=a.sort((r,u)=>{const L=new Date(r.date.split("/").reverse().join("-"));return new Date(u.date.split("/").reverse().join("-"))-L});const n=T.query.video;if(n){const r=d.value.find(u=>u.name===n);r?(o.value=r,setTimeout(()=>{const u=document.querySelector(".video-section");u&&u.scrollIntoView({behavior:"smooth",block:"start"})},300)):d.value.length>0&&(o.value=d.value[0])}else d.value.length>0&&(o.value=d.value[0])}catch(s){console.error("Error loading TV videos:",s)}},x=s=>{o.value=s},B=()=>{if(m.value&&o.value){const s=o.value.minute*60+o.value.second;m.value.currentTime=s,m.value.play()}},E=(s,t)=>{const a=String(s).padStart(2,"0"),n=String(t).padStart(2,"0");return`${a}:${n}`},I=()=>{},g=_([]),w=b(()=>{const s={};return g.value.forEach(t=>{const a=t.year;s[a]||(s[a]=[]),s[a].push(t)}),s}),$=b(()=>Object.keys(w.value).sort((s,t)=>t-s)),q=s=>{s.target.style.display="none"},D=async()=>{try{const a=(await(await fetch("/spqr-team-website/assets/press/press.json")).json()).map(n=>{const r=n.date,u=r.split("/")[2];return{date:r,source:n.source,link:n.link,year:u}});g.value=a}catch(s){console.error("Error loading press data:",s)}};return A(()=>{j(),D()}),(s,t)=>(i(),p(h,null,[e("div",K,[v(R,{class:"cover-image",src:J,alt:"Press Header Cover",cover:""},{default:l(()=>[...t[0]||(t[0]=[e("div",{class:"cover-overlay"},[e("h1",{class:"cover-title"},"PRESS")],-1)])]),_:1})]),d.value.length>0&&o.value?(i(),y(S,{key:0,class:"video-section"},{default:l(()=>[t[4]||(t[4]=e("h2",{class:"section-title"},"TV Appearances",-1)),e("div",O,[e("div",U,[(i(),p("video",{ref_key:"videoPlayer",ref:m,key:o.value.path,src:o.value.path,controls:"",controlsList:"nodownload",class:"video-player",preload:"metadata",onLoadedmetadata:I}," Your browser does not support the video tag. ",40,W)),e("div",Q,[e("div",X,[e("div",null,[e("h3",Z,c(o.value.source)+" - "+c(o.value.event),1),e("p",ee,c(o.value.date),1)]),o.value.minute>0||o.value.second>0?(i(),y(Y,{key:0,color:"#822433",variant:"elevated",onClick:B,class:"skip-button"},{default:l(()=>[v(V,{left:""},{default:l(()=>[...t[1]||(t[1]=[f("mdi-skip-forward",-1)])]),_:1}),f(" Skip to "+c(E(o.value.minute,o.value.second)),1)]),_:1})):C("",!0)])])]),e("div",se,[t[3]||(t[3]=e("h3",{class:"sidebar-title"},"All Videos",-1)),e("div",te,[(i(!0),p(h,null,k(d.value,(a,n)=>(i(),p("div",{key:n,class:H(["video-list-item",{active:o.value&&o.value.path===a.path}]),onClick:r=>x(a)},[e("div",ae,[e("div",re,c(a.source),1),e("div",ne,c(a.date),1),e("div",le,c(a.event),1)]),v(V,{class:"video-list-icon"},{default:l(()=>[...t[2]||(t[2]=[f("mdi-play-circle",-1)])]),_:1})],10,oe))),128))])])])]),_:1})):C("",!0),v(S,null,{default:l(()=>[e("div",ie,[(i(!0),p(h,null,k($.value,a=>(i(),p("div",{key:a,class:"year-section"},[e("h2",ce,c(a),1),v(M,{justify:"center",style:{"max-width":"1400px",margin:"0 auto"}},{default:l(()=>[(i(!0),p(h,null,k(w.value[a],(n,r)=>(i(),y(z,{key:r,cols:"12",sm:"6",md:"4"},{default:l(()=>[v(F,{href:n.link,target:"_blank",class:"press-card",elevation:"3"},{default:l(()=>[e("div",de,[e("div",ue,[e("img",{src:`https://api.microlink.io/?url=${encodeURIComponent(n.link)}&screenshot=true&meta=false&embed=screenshot.url`,alt:`${n.source} preview`,class:"press-preview-img",onError:q},null,40,ve)]),v(G,{class:"press-card-content"},{default:l(()=>[e("div",pe,c(n.date),1),e("div",me,c(n.source),1),v(V,{class:"press-icon"},{default:l(()=>[...t[5]||(t[5]=[f("mdi-open-in-new",-1)])]),_:1})]),_:2},1024)])]),_:2},1032,["href"])]),_:2},1024))),128))]),_:2},1024)]))),128))])]),_:1})],64))}},we=N(_e,[["__scopeId","data-v-28ce5680"]]);export{we as default};
